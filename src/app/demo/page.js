"use client";
import Image from "next/image";
import { useState } from "react";
import { motion, AnimatePresence } from "framer-motion";

export default function ProtestPage() {
  const [expandedId, setExpandedId] = useState(null);

  const protests = [
    {
      id: 1,
      title: "ро╡ро┐ро╡роЪро╛ропро┐роХро│рпН роЙро░ро┐роорпИ рокрпЗро░рогро┐",
      date: "5 рокро┐рокрпНро░ро╡ро░ро┐ 2025",
      location: "роХроорпНрокроорпН рокрпЗро░рпБроирпНродрпБ роиро┐ро▓рпИропроорпН",
      description:
        "ро╡ро┐ро╡роЪро╛ропро┐роХро│ро┐ройрпН роЙро░ро┐роорпИроХро│рпИ ро╡ро▓ро┐ропрпБро▒рпБродрпНродрпБроорпН рокрпЖро░ро┐роп рокрпЗро░рогро┐ рооро▒рпНро▒рпБроорпН ро╡ро┐ро┤ро┐рокрпНрокрпБрогро░рпНро╡рпБ роиро┐роХро┤рпНроЪрпНроЪро┐.",
      image: "/Image8.png",
      details:
        "роЗроирпНрод рокрпЗро░рогро┐ропро┐ро▓рпН роЖропро┐ро░роХрпНроХрогроХрпНроХро╛рой ро╡ро┐ро╡роЪро╛ропро┐роХро│рпН роХро▓роирпНродрпБ роХрпКрогрпНроЯрпБ, родроЩрпНроХро│ро┐ройрпН роЙро░ро┐роорпИроХро│рпН рооро▒рпНро▒рпБроорпН роХроЯройрпН родро│рпНро│рпБрокроЯро┐ роХрпЛро░ро┐роХрпНроХрпИроХро│рпИ ро╡ро▓ро┐ропрпБро▒рпБродрпНродро┐ройро░рпН. роЕро░роЪрпБ ро╡ро┐ро░рпИро╡ро┐ро▓рпН роироЯро╡роЯро┐роХрпНроХрпИ роОроЯрпБроХрпНроХ ро╡рпЗрогрпНроЯрпБроорпН роОройрпНро▒ роХрпЛро░ро┐роХрпНроХрпИропрпБроорпН роорпБройрпНро╡рпИроХрпНроХрокрпНрокроЯрпНроЯродрпБ.",
    },
    {
      id: 2,
      title: "рооро╛рогро╡ро░рпНроХро│рпН роОродро┐ро░рпНрокрпНрокрпБ ро░ропро┐ро▓рпН ро░рпЛроХрпНроХрпЛ",
      date: "10 рооро╛ро░рпНроЪрпН 2025",
      location: "роородрпБро░рпИ ро░ропро┐ро▓рпН роиро┐ро▓рпИропроорпН",
      description:
        "роХро▓рпНро╡ро┐роХрпН роХроЯрпНроЯрог роЙропро░рпНро╡рпИ роОродро┐ро░рпНродрпНродрпБ рооро╛рогро╡ро░рпНроХро│рпН роТро░рпБроЩрпНроХро┐рогрпИроирпНродрпБ ро░ропро┐ро▓рпН ро░рпЛроХрпНроХрпЛ роироЯродрпНрод роЙро│рпНро│ройро░рпН.",
      image: "/Image1.jpg",
      details:
        "рооро╛рогро╡ро░рпНроХро│рпН роХро▓рпНро╡ро┐роХрпН роХроЯрпНроЯрог роЙропро░рпНро╡рпИ роОродро┐ро░рпНродрпНродрпБ роородрпБро░рпИ ро░ропро┐ро▓рпН роиро┐ро▓рпИропродрпНродро┐ро▓рпН роЕроорпИродро┐ропро╛рой ро░ропро┐ро▓рпН ро░рпЛроХрпНроХрпЛ рокрпЛро░ро╛роЯрпНроЯроорпН роироЯродрпНродро┐ройро░рпН. рооро╛рогро╡ро░рпНроХро│рпН родроЩрпНроХро│рпН роХро▓рпНро╡ро┐ роЙро░ро┐роорпИроХрпНроХро╛роХ роТройрпНро▒ро┐рогрпИроирпНродройро░рпН.",
    },
    {
      id: 3,
      title: "рокрпЖрогрпНроХро│рпН роЙро░ро┐роорпИ рокрпЗро░рогро┐",
      date: "25 роПрокрпНро░ро▓рпН 2025",
      location: "роЪрпЖройрпНройрпИ роорпЖро░ро┐ройро╛ роХроЯро▒рпНроХро░рпИ",
      description:
        "рокрпЖрогрпНроХро│рпН рокро╛родрпБроХро╛рокрпНрокрпБ рооро▒рпНро▒рпБроорпН роЪроо роЙро░ро┐роорпИ роХрпЛро░ро┐ роироЯроХрпНроХрпБроорпН рокрпЖро░рпБроорпН рокрпЗро░рогро┐.",
      image: "/Image20.jpg",
      details:
        "рокрпЖрогрпНроХро│ро┐ройрпН рокро╛родрпБроХро╛рокрпНрокрпБ рооро▒рпНро▒рпБроорпН роЪроо роЙро░ро┐роорпИроХрпНроХро╛роХ роорпЖро░ро┐ройро╛ роХроЯро▒рпНроХро░рпИропро┐ро▓рпН рокрпЖро░рпБроорпН рокрпЗро░рогро┐ роироЯродрпНродрокрпНрокроЯрпНроЯродрпБ. роЪроорпВроХ роЪроородрпНродрпБро╡родрпНродрпИ ро╡ро▓ро┐ропрпБро▒рпБродрпНродрпБроорпН роорпБроХрпНроХро┐ропрооро╛рой роиро┐роХро┤рпНро╡ро╛роХ роЗродрпБ роЕроорпИроирпНродродрпБ.",
    },{
      id: 4,
      title: "рокрпЖрогрпНроХро│рпН роЙро░ро┐роорпИ рокрпЗро░рогро┐",
      date: "25 роПрокрпНро░ро▓рпН 2025",
      location: "роЪрпЖройрпНройрпИ роорпЖро░ро┐ройро╛ роХроЯро▒рпНроХро░рпИ",
      description:
        "рокрпЖрогрпНроХро│рпН рокро╛родрпБроХро╛рокрпНрокрпБ рооро▒рпНро▒рпБроорпН роЪроо роЙро░ро┐роорпИ роХрпЛро░ро┐ роироЯроХрпНроХрпБроорпН рокрпЖро░рпБроорпН рокрпЗро░рогро┐.",
      image: "/Image20.jpg",
      details:
        "рокрпЖрогрпНроХро│ро┐ройрпН рокро╛родрпБроХро╛рокрпНрокрпБ рооро▒рпНро▒рпБроорпН роЪроо роЙро░ро┐роорпИроХрпНроХро╛роХ роорпЖро░ро┐ройро╛ роХроЯро▒рпНроХро░рпИропро┐ро▓рпН рокрпЖро░рпБроорпН рокрпЗро░рогро┐ роироЯродрпНродрокрпНрокроЯрпНроЯродрпБ. роЪроорпВроХ роЪроородрпНродрпБро╡родрпНродрпИ ро╡ро▓ро┐ропрпБро▒рпБродрпНродрпБроорпН роорпБроХрпНроХро┐ропрооро╛рой роиро┐роХро┤рпНро╡ро╛роХ роЗродрпБ роЕроорпИроирпНродродрпБ.",
    },
    {
      id: 5,
      title: "рокрпЖрогрпНроХро│рпН роЙро░ро┐роорпИ рокрпЗро░рогро┐",
      date: "25 роПрокрпНро░ро▓рпН 2025",
      location: "роЪрпЖройрпНройрпИ роорпЖро░ро┐ройро╛ роХроЯро▒рпНроХро░рпИ",
      description:
        "рокрпЖрогрпНроХро│рпН рокро╛родрпБроХро╛рокрпНрокрпБ рооро▒рпНро▒рпБроорпН роЪроо роЙро░ро┐роорпИ роХрпЛро░ро┐ роироЯроХрпНроХрпБроорпН рокрпЖро░рпБроорпН рокрпЗро░рогро┐.",
      image: "/Image20.jpg",
      details:
        "рокрпЖрогрпНроХро│ро┐ройрпН рокро╛родрпБроХро╛рокрпНрокрпБ рооро▒рпНро▒рпБроорпН роЪроо роЙро░ро┐роорпИроХрпНроХро╛роХ роорпЖро░ро┐ройро╛ роХроЯро▒рпНроХро░рпИропро┐ро▓рпН рокрпЖро░рпБроорпН рокрпЗро░рогро┐ роироЯродрпНродрокрпНрокроЯрпНроЯродрпБ. роЪроорпВроХ роЪроородрпНродрпБро╡родрпНродрпИ ро╡ро▓ро┐ропрпБро▒рпБродрпНродрпБроорпН роорпБроХрпНроХро┐ропрооро╛рой роиро┐роХро┤рпНро╡ро╛роХ роЗродрпБ роЕроорпИроирпНродродрпБ.",
    },
    {
      id: 6,
      title: "рокрпЖрогрпНроХро│рпН роЙро░ро┐роорпИ рокрпЗро░рогро┐",
      date: "25 роПрокрпНро░ро▓рпН 2025",
      location: "роЪрпЖройрпНройрпИ роорпЖро░ро┐ройро╛ роХроЯро▒рпНроХро░рпИ",
      description:
        "рокрпЖрогрпНроХро│рпН рокро╛родрпБроХро╛рокрпНрокрпБ рооро▒рпНро▒рпБроорпН роЪроо роЙро░ро┐роорпИ роХрпЛро░ро┐ роироЯроХрпНроХрпБроорпН рокрпЖро░рпБроорпН рокрпЗро░рогро┐.",
      image: "/Image20.jpg",
      details:
        "рокрпЖрогрпНроХро│ро┐ройрпН рокро╛родрпБроХро╛рокрпНрокрпБ рооро▒рпНро▒рпБроорпН роЪроо роЙро░ро┐роорпИроХрпНроХро╛роХ роорпЖро░ро┐ройро╛ роХроЯро▒рпНроХро░рпИропро┐ро▓рпН рокрпЖро░рпБроорпН рокрпЗро░рогро┐ роироЯродрпНродрокрпНрокроЯрпНроЯродрпБ. роЪроорпВроХ роЪроородрпНродрпБро╡родрпНродрпИ ро╡ро▓ро┐ропрпБро▒рпБродрпНродрпБроорпН роорпБроХрпНроХро┐ропрооро╛рой роиро┐роХро┤рпНро╡ро╛роХ роЗродрпБ роЕроорпИроирпНродродрпБ.",
    },
  ];

  const toggleExpand = (id) => {
    setExpandedId(expandedId === id ? null : id);
  };

  return (
    <section
      className="container py-5"
      style={{
        background: "#f7f9fc",
        minHeight: "100vh",
      }}
    >
      <h2
        className="text-center mb-5"
        style={{
          fontFamily: "serif",
          fontWeight: "bold",
          fontSize: "2.5rem",
        }}
      >
        ЁЯЪй роироЯроирпНродрпБ ро╡ро░рпБроорпН рооро▒рпНро▒рпБроорпН ро╡ро░ро╡ро┐ро░рпБроХрпНроХрпБроорпН рокрпЛро░ро╛роЯрпНроЯроЩрпНроХро│рпН
      </h2>

      <div className="row g-4">
        {protests.map((protest, index) => (
          <motion.div
            key={protest.id}
            className="col-md-4 d-flex"
            initial={{ opacity: 0, y: 40 }}
            whileInView={{ opacity: 1, y: 0 }}
            transition={{ duration: 0.4, delay: index * 0.2 }}
          >
            <div
              className="card shadow border-0 flex-fill"
              style={{
                borderRadius: "15px",
                overflow: "hidden",
                display: "flex",
                flexDirection: "column",
                height: "100%", // ensures equal height
                minHeight: "520px",
              }}
            >
              {/* ЁЯФ╕ Image */}
              <div style={{ position: "relative", height: "230px" }}>
                <Image
                  src={protest.image}
                  alt={protest.title}
                  fill
                  style={{
                    objectFit: "cover",
                    filter: "brightness(0.9)",
                    transition: "0.3s",
                  }}
                />
              </div>

              {/* ЁЯФ╕ Content */}
              <div
                className="card-body text-center d-flex flex-column justify-content-between"
                style={{
                  flexGrow: 1,
                  padding: "20px",
                  overflow: "hidden",
                }}
              >
                <div>
                  <h5 className="fw-bold">{protest.title}</h5>
                  <p className="text-muted mb-1">ЁЯУЕ {protest.date}</p>
                  <p className="text-muted mb-2">ЁЯУН {protest.location}</p>
                  <p
                    style={{
                      minHeight: "60px",
                    }}
                  >
                    {protest.description}
                  </p>
                </div>

                {/* ЁЯФ╕ Button */}
                <button
                  onClick={() => toggleExpand(protest.id)}
                  className="btn btn-danger mt-2"
                  style={{
                    borderRadius: "20px",
                    padding: "8px 20px",
                    fontWeight: "bold",
                  }}
                >
                  {expandedId === protest.id ? "роорпВроЯрпБ тЖС" : "роорпЗро▓рпБроорпН рокро╛ро░рпНроХрпНроХ тЖУ"}
                </button>

                {/* ЁЯФ╕ Expand Section */}
                <AnimatePresence>
                  {expandedId === protest.id && (
                    <motion.div
                      initial={{ opacity: 0, height: 0 }}
                      animate={{ opacity: 1, height: "auto" }}
                      exit={{ opacity: 0, height: 0 }}
                      transition={{ duration: 0.4 }}
                      className="mt-3"
                      style={{
                        background: "#fff5f5",
                        borderRadius: "10px",
                        padding: "10px",
                        textAlign: "justify",
                        maxHeight: "120px",
                        overflowY: "auto",
                      }}
                    >
                      <p>{protest.details}</p>
                    </motion.div>
                  )}
                </AnimatePresence>
              </div>
            </div>
          </motion.div>
        ))}
      </div>
    </section>
  );
}
